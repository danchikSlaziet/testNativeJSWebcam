<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="./main.css">
  <script defer src="mobile-detect.min.js"></script>
  <script defer src="face-api.min.js"></script>
  <script defer src="main.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/eruda"></script>
  <title>Доступ к камере</title>
</head>

<body>
  <img class="logo" src="./images/logo.png" alt="МТС логотип">
  <div class="loading-page">
    <div class="loading-page__progress">
      <div class="loading-page__currentProgress"></div>
    </div>
  </div>
  <div class="first-page">
    <p class="first-page__text">Для корректной работы приложения следует дать доступ к камере</p>
    <button class="button" id="start-camera-first">Включить камеру</button>
    <button class="button" disabled id="next-button">Далее</button>
  </div>
  <div class="loading-neuro loading-neuro_disabled">
    <p class="loading-neuro__text">ищем ваше личико...</p>
    <div class="loading-neuro__progress">
      <div class="loading-neuro__currentProgress"></div>
    </div>
  </div>
  <div id="sec-page" class="second-page second-page_disabled">
    <p class="second-page__text">
      Чтобы участвововать 
      в конкурсе от МТС,
      оставь свой номер
      для проверки подписки
      МТС Premium
    </p>
    <p class="second-page__input-label">
      Оставь свой номер для участия в конкурсе
    </p>
    <input class="second-page__input" type="tel" name="phone">
    <button class="button second-page__button" disabled type="button">Проверить подписку MTC Premium</button>
  </div>
  <div class="main-page">
    <div class="main">
      <div class="main__video-container">
        <video id="camera-stream" playsinline autoplay muted loop class="main__video"></video>
        <canvas id="canvas" style="aspect-ratio: 171 / 91;"></canvas>
        <img id="hatImage" src="images/overlay-cap.png" class="cap" alt="Hat">
      </div>
    </div>
    <div class="buttons">
      <button class="button" id="start-camera">Включить камеру</button>
      <button class="button" id="stop-camera">Выключить камеру</button>
      <button class="button" id="download-button">Сделать фото</button>
    </div>
    <img id="downloaded-image" class="result-image" src="" alt="Downloaded Image">
    <button class="button send-button">Получить фото в сообщении</button>
    <input type="file" class="button attach-photo-button" placeholder="Прикрепить фото">
    <div class="photo-container">
      <img class="attachment-photo" src="" alt="photo">
      <canvas id="canvas2" style="aspect-ratio: 171 / 91;"></canvas>
      <canvas id="canvas3"></canvas>
      <!-- <img id="new-photo" src="" alt="Hat"> -->
    </div>
    <button class="button mask-button">Наложить маску</button>
    <!-- <button class="button screen-button">Сделать скриншот</button> -->
    <button class="button send-attach-button">Получить фото в сообщении</button>
  </div>
  <script>
    eruda.init();
  </script>
</body>

</html>